<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Sacred Revelations</title>

  <!-- Preconnect leve (evita DNS+TCP+TLS na hora H) -->
  <link rel="preconnect" href="https://cdn.converteai.net" crossorigin>
  <link rel="preconnect" href="https://scripts.converteai.net" crossorigin>
  <link rel="preconnect" href="https://images.converteai.net" crossorigin>
  <link rel="preconnect" href="https://api.vturb.com.br" crossorigin>
  <link rel="preconnect" href="https://cdn.utmify.com.br" crossorigin>

  <!-- UTMify (async/defer) -->
  <script>
    window.pixelId = "68a93a811eb2a944628c570c";
    (function () {
      var a = document.createElement("script");
      a.async = true; a.defer = true;
      a.src = "https://cdn.utmify.com.br/scripts/pixel/pixel.js";
      document.head.appendChild(a);
    })();
  </script>

  <!-- Paint timing leve -->
  <script>!function(i,n){i._plt=i._plt||(n&&n.timeOrigin?n.timeOrigin+n.now():Date.now())}(window,performance);</script>

  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    :root{
      --bg:#ffffff; --fg:#000; --muted:#f3f4f6; --ink:#1f2937; --ink2:#374151; --brand:#333333;
    }
    body{background:#fff;color:var(--fg);font-family:Arial,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Ubuntu,"Helvetica Neue",sans-serif;line-height:1.5}
    header{padding:20px;text-align:center}

    /* --- LITE PLAYER (reserva de espa√ßo = zero CLS) --- */
    .video-shell{
      width:100%;max-width:540px;margin:0 auto;
      aspect-ratio:16/9; /* ajuste p/ 9/16 se seu criativo for vertical */
      background:#000;border-radius:12px;overflow:hidden;position:relative;
      box-shadow:0 6px 18px rgba(0,0,0,.15)
    }
    .video-poster{
      width:100%;height:100%;object-fit:cover;display:block;
      filter:brightness(.9)
    }
    .video-play{
      position:absolute;inset:0;display:flex;align-items:center;justify-content:center;
      cursor:pointer;background:linear-gradient(0deg,rgba(0,0,0,.25),rgba(0,0,0,.25));
      transition:transform .15s ease, background .2s ease
    }
    .video-play:hover{transform:scale(1.02);background:linear-gradient(0deg,rgba(0,0,0,.2),rgba(0,0,0,.2))}
    .video-play svg{width:72px;height:72px;background:#ff0000;border-radius:50%;padding:12px}

    /* Chat container ‚Äì espa√ßo reservado p/ evitar CLS */
    #chat-widget-wp-optimized{
      font-family:Georgia,serif; background:#fff; border-radius:10px; border:1px solid #ccc;
      box-shadow:0 4px 12px rgba(0,0,0,.15); overflow:hidden; max-width:500px; margin:20px auto
    }
    #chat-widget-wp-optimized.lazy{min-height:110px} /* placeholder antes de carregar o script */
    #chat-widget-wp-optimized #chat-container{
      max-width:100%; margin:auto; padding:20px; overflow:hidden; height:350px;
      background:#fff; display:flex; flex-direction:column-reverse; scrollbar-width:none; -ms-overflow-style:none
    }
    #chat-widget-wp-optimized #chat-container::-webkit-scrollbar{display:none}
    #chat-widget-wp-optimized .comment{
      padding:15px 25px; display:flex; flex-direction:column; border-bottom:1px solid #eee;
      background:var(--muted); border-radius:8px; margin-bottom:10px; flex-grow:1; overflow:hidden; border-left:4px solid var(--ink)
    }
    #chat-widget-wp-optimized .user{font-weight:bold;font-size:18px;color:var(--ink);margin-bottom:5px}
    #chat-widget-wp-optimized .text{font-size:18px;color:var(--ink2);white-space:pre-wrap}
    #title{
      text-align:center; color:#fff; background:var(--brand); padding:15px; font-size:24px; font-family:Georgia,serif;
      border-bottom:2px solid var(--brand); position:relative
    }
    #comment-form{max-width:100%;margin:auto;padding:20px;background:#fff;border-top:2px solid #ccc}
    #chat-widget-wp-optimized textarea{
      width:100%; padding:15px; margin-top:10px; border:2px solid #ddd; border-radius:8px; box-sizing:border-box; resize:none; font-size:16px; font-family:Georgia,serif
    }
    #chat-widget-wp-optimized input[type="submit"]{
      display:block; margin:auto; margin-top:15px; background:var(--brand); color:#fff; border:none; border-radius:8px; padding:15px; cursor:pointer; font-size:16px; width:100%; transition:background .3s ease
    }
    #chat-widget-wp-optimized input[type="submit"]:hover{background:#2b2b2b}

    footer{background:#000;color:#fff;text-align:center;padding:15px;margin-top:40px}
    footer a{color:#fff;text-decoration:none;margin:0 5px}
    footer a:hover{text-decoration:underline}
  </style>
</head>
<body>
  <header>

    <!-- LITE PLAYER: clica ou entra na viewport => carrega player VTurb -->
    <div id="lite-player"
         class="video-shell"
         data-player-id="689b9a74cca2969340232a58"
         data-account="9ab5476f-5199-4f12-93bc-226a7b2a97e0"
         data-poster="https://images.converteai.net/placeholder/1280x720.jpg">
      <img class="video-poster" alt="Play video" fetchpriority="low"
           src="https://images.converteai.net/placeholder/1280x720.jpg" />
      <button class="video-play" aria-label="Reproduzir v√≠deo" title="Reproduzir">
        <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M8 5v14l11-7z" fill="#fff"/></svg>
      </button>
    </div>

    <!-- CHAT (lazy: s√≥ inicializa quando entra na viewport) -->
    <div id="chat-widget-wp-optimized" class="lazy">
      <div id="title">LIVE CHAT
        <span id="viewer-count" style="position:absolute;right:20px;top:50%;transform:translateY(-50%);font-size:14px;background:rgba(255,255,255,.2);padding:4px 8px;border-radius:20px;">
          üî¥ <span id="viewer-number">30</span> online
        </span>
      </div>
      <div id="chat-container"></div>
      <div id="comment-form">
        <form id="form">
          <textarea id="user-comment" placeholder="Type your comment here..." rows="3" required></textarea>
          <input type="submit" value="Send">
        </form>
      </div>
    </div>

  </header>

  <footer>
    <div>Copyright ¬© 2025. All Rights Reserved. <a href="terms.html">Terms</a> <a href="privacy.html">Privacy</a></div>
  </footer>

  <!-- UTM source (n√£o bloqueante) -->
  <script async defer src="https://cdn.utmify.com.br/scripts/utms/latest.js"
          data-utmify-prevent-xcod-sck data-utmify-prevent-subids></script>

  <script>
    // Helper: carrega script externo 1x
    function loadScript(src){return new Promise((res,rej)=>{const s=document.createElement('script');s.src=src;s.async=true;s.defer=true;s.onload=res;s.onerror=rej;document.head.appendChild(s);});}

    // Inicializa VTurb quando clicar ou quando entrar na viewport
    (function initLitePlayer(){
      const shell = document.getElementById('lite-player');
      if(!shell) return;
      const account = shell.getAttribute('data-account');
      const playerId = shell.getAttribute('data-player-id');

      const mountRealPlayer = async () => {
        if (shell.dataset.loaded) return;
        shell.dataset.loaded = "1";
        // Remove poster + bot√£o
        shell.innerHTML = '';
        // Cria webcomponent + injeta script do player
        const el = document.createElement('vturb-smartplayer');
        el.id = 'vid-' + playerId;
        el.style.display = 'block'; el.style.margin = '0 auto'; el.style.width = '100%'; el.style.height = '100%';
        shell.appendChild(el);
        await loadScript(`https://scripts.converteai.net/${account}/players/${playerId}/v4/player.js`);
      };

      // Click para carregar
      shell.addEventListener('click', mountRealPlayer, {once:true});

      // Lazy por viewport (para garantir LCP melhor sem bloquear)
      if ('IntersectionObserver' in window){
        const io = new IntersectionObserver((entries)=>{
          entries.forEach(e=>{ if(e.isIntersecting){ mountRealPlayer(); io.disconnect(); }});
        },{rootMargin:'200px'});
        io.observe(shell);
      }
    })();

    // Lazy do CHAT: inicializa somente quando entrar na viewport
    (function lazyChat(){
      const wrap = document.getElementById('chat-widget-wp-optimized');
      if(!wrap) return;

      function startChat(){
        if (wrap.dataset.started) return;
        wrap.dataset.started = "1";
        wrap.classList.remove('lazy');

        // === O SEU SCRIPT ORIGINAL DO CHAT (encurtado aqui) ===
        (function(){
          const chatContainer = wrap.querySelector('#chat-container');
          const form = wrap.querySelector('#form');
          const userCommentInput = wrap.querySelector('#user-comment');

          const participantNames = ["Elijah Jackson","Lucas Hernandez","Logan Thomas","Sophia White","Aiden Miller","Mason Lopez","Henry White","Henry Williams","Henry Martin","Mason Lee","Sophia Gonzalez","Charlotte Harris","Sophia Rodriguez","Alexander Smith","Alexander Jones","Lucas Taylor","Evelyn White","Ava Jones","Alexander Miller","Evelyn Brown","Amelia Martin","Mia Jones","Emma Brown","Sophia Taylor","Emma Martin","Abigail Garcia","Sebastian Garcia","Emma Thomas","Owen Davis","Evelyn Davis","Henry Wilson","Mia Thomas","Logan Williams","Liam Miller","Lucas White","Henry Rodriguez","Charlotte Gonzalez","Amelia Williams","Owen Williams","Sebastian Davis","Logan Brown","Amelia Anderson","Alexander Martin","Sebastian Johnson","Olivia Smith","Charlotte Martinez","Owen Taylor","Evelyn Hernandez","Sophia Williams","Owen Martin"];
          const commentBlocks=[["I'VE NEVER SEEN ANYTHING LIKE THIS","OMG, it all makes sense now. I get why things haven't worked out before!","Yes, I want this in my life! üôèüôè","So glad I got a spot for this! Missed the last one.","My friend from college told me about this! It's incredible!","It's true, this is a real revelation. The way this works is amazing.","This magnetic feeling is real! fr","Can't believe the difference this has made. It's my reality now!","This is the shift I've been waiting for in my life.","Listening to this was all I needed!","Came back to say that this actually works.","For anyone doubting, I can tell you this is v real.","I'm back to tell you to watch this till the end, you won't regret it!","Just came here to say it really works! Glad this video is still up!","My sister told me about this video! It really works!","Watch this video without fear! It actually works!","So grateful to be here üôè","So glad I'm hearing this now","This technique is unbelievable, thank you","I'm loving this! ‚ù§Ô∏è","The wisdom and experience here is clear. Real results!","Came here on a recommendation from my cousin who won't stop talking about this video.","My life completely changed bc of this.","Saw clips of this on TikTok, it's truly amazing!","So glad this knowledge was shared! It changed my life!"],["He's well-known. I'm pretty sure I've seen him on TV before.","My coworker used this method, the results were incredible.","The wisdom and experience here are clear. Real results!","Came here on a recommendation from my cousin who won't stop talking about this video.","The logic behind this technique is flawless. It just makes sense.","I was skeptical, but seeing a friend's results convinced me.","Finally, someone who explains things in a way that actually works.","His reputation speaks for itself, that's why I'm here to listen.","This technique is unbelievable, thank you for sharing this.","The results are real! In just a few days, I could already see significant changes.","The transformation this causes is genuine. My neighbor is living proof.","I never imagined it was possible to achieve so much in so little time with one method.","A friend recommended it, and I decided to try. Now, I'm experiencing a prosperity I never thought possible.","This completely transformed my relationship with success.","Ngl, I didn't expect much, but this exceeded all my expectations.","This restored my faith that things can change for the better.","The way he teaches is what makes all the difference. He has a gift.","I've seen clips of his work on TikTok, it's really powerful.","After hearing so many positive stories, I had to come check it out.","This approach is different from anything I've ever seen. It's revolutionary.","His track record is impressive. You can trust what he says.","My sister told me about this method and her life changed completely.","His words have a weight, a truth that's rare to find.","This technique is a true mindset shift.","The knowledge he shares is invaluable."],["Payment confirmed! I'm in!","Just secured my spot! Didn't wanna risk missing out.","Bought it! My friend who recommended it, her results were insane.","Y'all, you can buy this without fear. It's legit.","Registration done! Phew, I made it!"]];

          const usedComments = new Set();
          const getRandomName = () => participantNames[Math.floor(Math.random()*participantNames.length)];
          function getUniqueComment(comments){
            const available = comments.filter(c=>!usedComments.has(c));
            if(!available.length){usedComments.clear(); return comments[Math.floor(Math.random()*comments.length)];}
            const c = available[Math.floor(Math.random()*available.length)]; usedComments.add(c); return c;
          }
          function addComment(username,text,isYou){
            const div=document.createElement('div'); div.className='comment';
            div.innerHTML=`<div class="content"><span class="user">${isYou?'Voc√™':username}:</span><div class="text">${text}</div></div>`;
            chatContainer.prepend(div);
            if(chatContainer.children.length>3) chatContainer.removeChild(chatContainer.lastChild);
          }
          form.addEventListener('submit',e=>{
            e.preventDefault();
            const v=userCommentInput.value;
            if(v.trim()){ addComment('Voc√™',v,true); userCommentInput.value='';}
          });
          setTimeout(()=>addComment('Moderator','Welcome to the chat! üëã',false),800);

          const viewerCountElement = document.getElementById('viewer-number');
          if(viewerCountElement){
            const blockSettings=[{"id":"1","name":"Bloco 1 - Aquecimento","intervalMin":15,"intervalMax":45,"viewersMin":30,"viewersMax":800},{"id":"2","name":"Bloco 2 - Engajamento","intervalMin":10,"intervalMax":30,"viewersMin":800,"viewersMax":1500},{"id":"3","name":"Bloco 3 - Convers√£o","intervalMin":5,"intervalMax":25,"viewersMin":1500,"viewersMax":2500}];
            let currentBlock=0, currentViewers=blockSettings[0].viewersMin, targetViewers=blockSettings[0].viewersMax;
            viewerCountElement.textContent=currentViewers;
            const updateViewer = ()=>{ const growth=.8, jitter=Math.floor(Math.random()*10)-5;
              if(currentViewers<targetViewers){ currentViewers=Math.min(targetViewers, currentViewers+Math.ceil((targetViewers-currentViewers)*growth/10)+jitter);}
              else{ currentViewers=Math.max(Math.floor(targetViewers*.9), currentViewers+jitter);}
              viewerCountElement.textContent=Math.max(1,currentViewers);
            };
            setInterval(updateViewer, 8000 + Math.random()*7000);
            setInterval(()=>{ currentBlock=(currentBlock+1)%blockSettings.length; const next=blockSettings[currentBlock];
              currentViewers=Math.max(currentViewers,next.viewersMin); targetViewers=next.viewersMax;},180000);
          }

          // disparo dos blocos (mais leve)
          const startTimes=[0,180000,1500000], intervals=[5000,10000,1200];
          commentBlocks.forEach((block,idx)=>{
            setTimeout(()=>{
              let sent=0, max=Math.min(block.length,20);
              const h=setInterval(()=>{
                if(sent>=max){clearInterval(h);return;}
                addComment(getRandomName(), getUniqueComment(block), false); sent++;
              }, intervals[idx]||10000);
              setTimeout(()=>clearInterval(h),(intervals[idx]||10000)*max+30000);
            }, startTimes[idx]||0);
          });
        })();
      }

      const onView = () => {
        if ('IntersectionObserver' in window){
          const io = new IntersectionObserver((entries)=>{
            entries.forEach(e=>{ if(e.isIntersecting){ startChat(); io.disconnect(); }});
          },{rootMargin:'200px'});
          io.observe(wrap);
        } else {
          // fallback
          window.addEventListener('load', startChat, {once:true});
        }
      };
      onView();
    })();
  </script>
</body>
</html>
